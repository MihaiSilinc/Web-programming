@using AspCoreMVCEF.Models;
@using System.Text.Json;
@using Microsoft.AspNetCore.Http;
@{
    Layout = null;
    User user = null;
    string userStr = Context.Session.GetString("user");
    if (userStr != null)
        user = JsonSerializer.Deserialize<User>(userStr);
    if (user != null)
    {
        <!DOCTYPE html>

        <html>
        <head>
            <meta name="viewport" content="width=device-width" />
            <title>Books</title>
            <link href="~/css/main.css" rel="stylesheet" type="text/css" />
            <script src="~/lib/jquery/dist/jquery.js"></script>
            <script src="~/js/filterBooks.js" defer></script>
        </head>
        <body>
            <header class="column">
                <h1 id="welcome">Welcome @user.Username!</h1>
                <nav class="row">
                    <a href="/Main/Logout">Logout</a>
                    <a id="manageBooks" href="/Main/ManageBooks">Manage books</a>
                    <a id="changePassword" href="/Main/ChangePassword">Change password</a>
                </nav>
            </header>
            <br>
            <br>
            <partial name="FilterBooks" />
        </body>
    </html>
}
}